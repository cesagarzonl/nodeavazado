{"version":3,"sources":["tests/metrics-test.js"],"names":["test","require","proxyquire","sinon","metricFixtures","config","logging","MetricStub","belongsTo","spy","db","sandbox","uuidArgs","where","uuid","beforeEach","setupDatabase","AgentStub","t","truthy","Metric"],"mappings":"AAAA;;;;;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAAC,KAAD,CAApB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMG,cAAc,GAAGH,OAAO,CAAC,mBAAD,CAA9B;;AACA,IAAII,MAAM,GAAG;AACXC,EAAAA,OAAO,EAAE,YAAY,CAAE;AADZ,CAAb;AAGA,IAAIC,UAAU,GAAG;AACfC,EAAAA,SAAS,EAAEL,KAAK,CAACM,GAAN;AADI,CAAjB;AAIA,IAAIC,EAAE,GAAG,IAAT;AACA,IAAIC,OAAO,GAAG,IAAd;AACA,IAAIC,QAAQ,GAAG;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA;AADK;AADM,CAAf;AAOAd,IAAI,CAACe,UAAL,CAAgB,YAAY;AAC1B,QAAMC,aAAa,GAAGd,UAAU,CAAC,KAAD,EAAQ;AACtC,uBAAmB,MAAMe,SADa;AAEtC,uBAAmB,MAAMV;AAFa,GAAR,CAAhC;AAKAG,EAAAA,EAAE,GAAG,MAAMM,aAAa,CAACX,MAAD,CAAxB;AACD,CAPD;AAUAL,IAAI,CAAC,QAAD,EAAWkB,CAAC,IAAI;AAAA;;AAClBA,EAAAA,CAAC,CAACC,MAAF,uBAAS,WAAAT,EAAE,uBAAF,CAAGU,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAoB,cAApB;AACD,CAFG,CAAJ","sourceRoot":"/home/andrea/Escritorio/pruebasx/avanza_nodejs/platziverse/platziverse-db","sourcesContent":["'use strict'\n\nconst test = require('ava')\nconst proxyquire = require('proxyquire')\nconst sinon = require('sinon')\nconst metricFixtures = require('./fixtures/metric')\nlet config = {\n  logging: function () {}\n}\nlet MetricStub = {\n  belongsTo: sinon.spy()\n}\n\nlet db = null\nlet sandbox = null\nlet uuidArgs = {\n  where: {\n    uuid\n  }\n}\n\n\ntest.beforeEach(async () => {\n  const setupDatabase = proxyquire('../', {\n    './models/agente': () => AgentStub,\n    './models/metric': () => MetricStub\n  })\n\n  db = await setupDatabase(config)\n})\n\n\ntest('Metric', t => {\n  t.truthy(db.Metric, 'Metric Exist')\n})"]}